<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Instituci√≥n Educativa Villa Girgona - Sistema Acad√©mico</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'school-blue': '#1e40af',
                        'school-green': '#86efac',
                        'school-yellow': '#fbbf24',
                        'school-white': '#ffffff'
                    }
                }
            }
        }
    </script>
    <style>
        .gradient-bg {
            background: linear-gradient(135deg, #1e40af 0%, #86efac 50%, #fbbf24 100%);
        }
        .card-shadow {
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }
        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <!-- Header -->
    <header class="gradient-bg text-white shadow-lg">
        <div class="container mx-auto px-4 py-6">
            <div class="flex flex-col md:flex-row justify-between items-center">
                <div class="text-center md:text-left mb-4 md:mb-0">
                    <h1 class="text-3xl md:text-4xl font-bold">üè´ LICEO EXPLORADORES DE SUE√ëOS</h1>
                    <p class="text-lg mt-2">17 a√±os formando el futuro ‚Ä¢ Jard√≠n a 5¬∞ Primaria</p>
                    <p class="text-sm mt-1">üìç Carrera 13 #8-48, Villa Girgona, Candelaria</p>
                </div>
                <div class="flex flex-col items-center">
                    <a href="https://wa.me/573135649661" target="_blank" 
                       class="bg-green-500 hover:bg-green-600 text-white px-6 py-3 rounded-full font-semibold transition-all duration-300 transform hover:scale-105 shadow-lg">
                        üì± WhatsApp: 313 5649661
                    </a>
                </div>
            </div>
        </div>
    </header>

    <!-- Navigation -->
    <nav class="bg-school-blue text-white shadow-md">
        <div class="container mx-auto px-4">
            <div class="flex flex-wrap justify-center space-x-2 md:space-x-8 py-4">
                <button onclick="showSection('inicio')" class="nav-btn px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors">üè† Inicio</button>
                <button onclick="showSection('docentes')" class="nav-btn px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors">üë®‚Äçüè´ Docentes</button>
                <button onclick="showSection('padres')" class="nav-btn px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors">üë®‚Äçüë©‚Äçüëß‚Äçüë¶ Padres</button>
                <button onclick="showSection('cronogramas')" class="nav-btn px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors">üìÖ Cronogramas</button>
                <button onclick="showSection('opiniones')" class="nav-btn px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors">üí¨ Opiniones</button>
                <button onclick="showSection('admin')" class="nav-btn px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors">‚öôÔ∏è Administraci√≥n</button>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="container mx-auto px-4 py-8">
        <!-- Inicio Section -->
        <section id="inicio" class="section-content fade-in">
            <div class="text-center mb-12">
                <h2 class="text-4xl font-bold text-school-blue mb-6">Bienvenidos a Nuestro Sistema Acad√©mico</h2>
                <div class="grid md:grid-cols-3 gap-8">
                    <div class="bg-white p-6 rounded-xl card-shadow border-l-4 border-school-blue">
                        <div class="text-4xl mb-4">üéì</div>
                        <h3 class="text-xl font-semibold text-school-blue mb-2">Excelencia Acad√©mica</h3>
                        <p class="text-gray-600">17 a√±os formando estudiantes desde jard√≠n hasta 5¬∞ de primaria con los m√°s altos est√°ndares educativos.</p>
                    </div>
                    <div class="bg-white p-6 rounded-xl card-shadow border-l-4 border-school-green">
                        <div class="text-4xl mb-4">üå±</div>
                        <h3 class="text-xl font-semibold text-school-blue mb-2">Crecimiento Integral</h3>
                        <p class="text-gray-600">Desarrollamos las habilidades acad√©micas, sociales y emocionales de nuestros estudiantes.</p>
                    </div>
                    <div class="bg-white p-6 rounded-xl card-shadow border-l-4 border-school-yellow">
                        <div class="text-4xl mb-4">ü§ù</div>
                        <h3 class="text-xl font-semibold text-school-blue mb-2">Comunidad Educativa</h3>
                        <p class="text-gray-600">Trabajamos en conjunto con padres y docentes para el √©xito de cada estudiante.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Docentes Section -->
        <section id="docentes" class="section-content hidden">
            <div class="bg-white rounded-xl card-shadow p-8">
                <h2 class="text-3xl font-bold text-school-blue mb-6 text-center">üë®‚Äçüè´ Portal Docentes</h2>
                
                <!-- Login Docentes -->
                <div id="docenteLogin" class="max-w-md mx-auto mb-8">
                    <div class="bg-school-green bg-opacity-20 p-6 rounded-lg">
                        <h3 class="text-xl font-semibold mb-4 text-school-blue">Acceso Docentes</h3>
                        <input type="text" id="docenteUser" placeholder="Usuario" class="w-full p-3 border border-gray-300 rounded-lg mb-3 focus:ring-2 focus:ring-school-blue">
                        <input type="password" id="docentePass" placeholder="Contrase√±a" class="w-full p-3 border border-gray-300 rounded-lg mb-4 focus:ring-2 focus:ring-school-blue">
                        <button onclick="loginDocente()" class="w-full bg-school-blue text-white py-3 rounded-lg hover:bg-blue-700 transition-colors font-semibold">Ingresar</button>
                    </div>
                </div>

                <!-- Panel Docentes -->
                <div id="docentePanel" class="hidden">
                    <!-- Registrar Estudiantes -->
                    <div class="bg-purple-100 p-6 rounded-lg mb-6">
                        <h3 class="text-xl font-semibold mb-4 text-school-blue">üë• Registrar Estudiante y Crear Acceso para Padres</h3>
                        <div class="grid md:grid-cols-2 gap-4">
                            <input type="text" id="estudianteDocReg" placeholder="Documento del Estudiante" class="w-full p-3 border border-gray-300 rounded-lg">
                            <input type="text" id="estudianteNombreReg" placeholder="Nombre Completo del Estudiante" class="w-full p-3 border border-gray-300 rounded-lg">
                            <select id="gradoReg" class="w-full p-3 border border-gray-300 rounded-lg">
                                <option value="">Seleccionar Grado</option>
                                <option value="jardin">Jard√≠n</option>
                                <option value="transicion">Transici√≥n</option>
                                <option value="primero">1¬∞ Primaria</option>
                                <option value="segundo">2¬∞ Primaria</option>
                                <option value="tercero">3¬∞ Primaria</option>
                                <option value="cuarto">4¬∞ Primaria</option>
                                <option value="quinto">5¬∞ Primaria</option>
                            </select>
                            <input type="text" id="nombrePadreReg" placeholder="Nombre del Padre/Madre" class="w-full p-3 border border-gray-300 rounded-lg">
                            <input type="text" id="usuarioPadre" placeholder="Usuario para el Padre (ej: padre123)" class="w-full p-3 border border-gray-300 rounded-lg">
                            <input type="password" id="passwordPadre" placeholder="Contrase√±a para el Padre" class="w-full p-3 border border-gray-300 rounded-lg">
                        </div>
                        <button onclick="registrarEstudiante()" class="w-full bg-purple-600 text-white py-3 rounded-lg hover:bg-purple-700 transition-colors font-semibold mt-4">Registrar Estudiante y Crear Acceso</button>
                    </div>

                    <div class="grid md:grid-cols-2 gap-8">
                        <!-- Subir Calificaciones -->
                        <div class="bg-school-yellow bg-opacity-20 p-6 rounded-lg">
                            <h3 class="text-xl font-semibold mb-4 text-school-blue">üìä Subir Calificaciones</h3>
                            <select id="gradoSelect" class="w-full p-3 border border-gray-300 rounded-lg mb-3">
                                <option value="">Seleccionar Grado</option>
                                <option value="jardin">Jard√≠n</option>
                                <option value="transicion">Transici√≥n</option>
                                <option value="primero">1¬∞ Primaria</option>
                                <option value="segundo">2¬∞ Primaria</option>
                                <option value="tercero">3¬∞ Primaria</option>
                                <option value="cuarto">4¬∞ Primaria</option>
                                <option value="quinto">5¬∞ Primaria</option>
                            </select>
                            <select id="estudianteSelectDoc" class="w-full p-3 border border-gray-300 rounded-lg mb-3" onchange="cargarDatosEstudiante()">
                                <option value="">Seleccionar Estudiante</option>
                            </select>
                            <input type="text" id="estudianteDoc" placeholder="Documento del Estudiante" class="w-full p-3 border border-gray-300 rounded-lg mb-3" readonly>
                            <input type="text" id="estudianteNombre" placeholder="Nombre del Estudiante" class="w-full p-3 border border-gray-300 rounded-lg mb-3" readonly>
                            <select id="materiaSelect" class="w-full p-3 border border-gray-300 rounded-lg mb-3">
                                <option value="">Seleccionar Materia</option>
                                <option value="matematicas">Matem√°ticas</option>
                                <option value="espa√±ol">Espa√±ol</option>
                                <option value="ciencias">Ciencias Naturales</option>
                                <option value="sociales">Ciencias Sociales</option>
                                <option value="ingles">Ingl√©s</option>
                                <option value="artistica">Educaci√≥n Art√≠stica</option>
                                <option value="fisica">Educaci√≥n F√≠sica</option>
                            </select>
                            <input type="number" id="calificacion" placeholder="Calificaci√≥n (1-5)" min="1" max="5" step="0.1" class="w-full p-3 border border-gray-300 rounded-lg mb-3">
                            <select id="periodo" class="w-full p-3 border border-gray-300 rounded-lg mb-4">
                                <option value="">Seleccionar Per√≠odo</option>
                                <option value="1">Primer Per√≠odo</option>
                                <option value="2">Segundo Per√≠odo</option>
                                <option value="3">Tercer Per√≠odo</option>
                                <option value="4">Cuarto Per√≠odo</option>
                            </select>
                            <button onclick="subirCalificacion()" class="w-full bg-school-blue text-white py-3 rounded-lg hover:bg-blue-700 transition-colors font-semibold">Guardar Calificaci√≥n</button>
                        </div>

                        <!-- Subir Cronogramas -->
                        <div class="bg-school-green bg-opacity-20 p-6 rounded-lg">
                            <h3 class="text-xl font-semibold mb-4 text-school-blue">üìÖ Subir Cronogramas y Calendarios</h3>
                            <input type="text" id="eventoTitulo" placeholder="T√≠tulo del Evento" class="w-full p-3 border border-gray-300 rounded-lg mb-3">
                            <textarea id="eventoDescripcion" placeholder="Descripci√≥n del evento" class="w-full p-3 border border-gray-300 rounded-lg mb-3 h-24"></textarea>
                            <input type="date" id="eventoFecha" class="w-full p-3 border border-gray-300 rounded-lg mb-3">
                            <input type="time" id="eventoHora" class="w-full p-3 border border-gray-300 rounded-lg mb-3">
                            <select id="eventoTipo" class="w-full p-3 border border-gray-300 rounded-lg mb-4">
                                <option value="">Tipo de Evento</option>
                                <option value="academico">Acad√©mico</option>
                                <option value="cultural">Cultural</option>
                                <option value="deportivo">Deportivo</option>
                                <option value="reunion">Reuni√≥n de Padres</option>
                                <option value="evaluacion">Evaluaci√≥n</option>
                                <option value="festivo">D√≠a Festivo</option>
                            </select>
                            <button onclick="subirEvento()" class="w-full bg-school-blue text-white py-3 rounded-lg hover:bg-blue-700 transition-colors font-semibold">Publicar Evento</button>
                        </div>
                    </div>

                    <!-- Lista de Estudiantes Registrados -->
                    <div class="mt-8 bg-white border border-gray-200 rounded-lg p-6">
                        <h3 class="text-xl font-semibold mb-4 text-school-blue">üë• Estudiantes Registrados</h3>
                        <div id="estudiantesRegistrados" class="space-y-2">
                            <!-- Los estudiantes aparecer√°n aqu√≠ -->
                        </div>
                    </div>

                    <!-- Lista de Calificaciones Recientes -->
                    <div class="mt-8 bg-white border border-gray-200 rounded-lg p-6">
                        <h3 class="text-xl font-semibold mb-4 text-school-blue">üìã Calificaciones Recientes</h3>
                        <div id="calificacionesList" class="space-y-2">
                            <!-- Las calificaciones aparecer√°n aqu√≠ -->
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Padres Section -->
        <section id="padres" class="section-content hidden">
            <div class="bg-white rounded-xl card-shadow p-8">
                <h2 class="text-3xl font-bold text-school-blue mb-6 text-center">üë®‚Äçüë©‚Äçüëß‚Äçüë¶ Portal Padres de Familia</h2>
                
                <!-- Login Padres -->
                <div id="padreLogin" class="max-w-md mx-auto mb-8">
                    <div class="bg-school-yellow bg-opacity-20 p-6 rounded-lg">
                        <h3 class="text-xl font-semibold mb-4 text-school-blue">Acceso Padres de Familia</h3>
                        <input type="text" id="padreUser" placeholder="Usuario" class="w-full p-3 border border-gray-300 rounded-lg mb-3 focus:ring-2 focus:ring-school-blue">
                        <input type="password" id="padrePass" placeholder="Contrase√±a" class="w-full p-3 border border-gray-300 rounded-lg mb-4 focus:ring-2 focus:ring-school-blue">
                        <button onclick="loginPadre()" class="w-full bg-school-blue text-white py-3 rounded-lg hover:bg-blue-700 transition-colors font-semibold">Ingresar</button>
                        <div class="mt-4 p-3 bg-blue-50 rounded-lg">
                            <p class="text-sm text-gray-600"><strong>Nota:</strong> Si no tienes usuario y contrase√±a, solic√≠talos al docente de tu hijo.</p>
                        </div>
                    </div>
                </div>

                <!-- Panel Padres -->
                <div id="padrePanel" class="hidden">
                    <div class="bg-school-green bg-opacity-20 p-6 rounded-lg mb-6">
                        <h3 class="text-xl font-semibold mb-4 text-school-blue">üìä Calificaciones de tu Hijo/a</h3>
                        <div id="informacionEstudiante" class="mb-4">
                            <!-- Informaci√≥n del estudiante aparecer√° aqu√≠ -->
                        </div>
                        <div id="notasEstudiantePadre">
                            <!-- Las notas aparecer√°n aqu√≠ -->
                        </div>
                    </div>
                </div>

                <!-- Consulta R√°pida (sin login) -->
                <div id="consultaRapida" class="mt-8">
                    <div class="bg-gray-100 p-6 rounded-lg">
                        <h3 class="text-xl font-semibold mb-4 text-school-blue">üîç Consulta R√°pida (Solo con Documento)</h3>
                        <input type="text" id="documentoConsulta" placeholder="N√∫mero de documento del estudiante" class="w-full p-3 border border-gray-300 rounded-lg mb-4 focus:ring-2 focus:ring-school-blue">
                        <button onclick="consultarNotas()" class="w-full bg-school-blue text-white py-3 rounded-lg hover:bg-blue-700 transition-colors font-semibold">Consultar Notas</button>
                    </div>
                </div>

                <!-- Resultados de Consulta -->
                <div id="resultadosNotas" class="hidden mt-6">
                    <div class="bg-school-green bg-opacity-20 p-6 rounded-lg mb-6">
                        <h3 class="text-xl font-semibold mb-4 text-school-blue">üìä Calificaciones del Estudiante</h3>
                        <div id="notasEstudiante"></div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Cronogramas Section -->
        <section id="cronogramas" class="section-content hidden">
            <div class="bg-white rounded-xl card-shadow p-8">
                <h2 class="text-3xl font-bold text-school-blue mb-6 text-center">üìÖ Cronogramas y Calendario Escolar</h2>
                
                <div class="grid md:grid-cols-2 gap-8">
                    <!-- Pr√≥ximos Eventos -->
                    <div class="bg-school-blue bg-opacity-10 p-6 rounded-lg">
                        <h3 class="text-xl font-semibold mb-4 text-school-blue">üîú Pr√≥ximos Eventos</h3>
                        <div id="proximosEventos" class="space-y-4">
                            <!-- Los eventos aparecer√°n aqu√≠ -->
                        </div>
                    </div>

                    <!-- Calendario del Mes -->
                    <div class="bg-school-green bg-opacity-10 p-6 rounded-lg">
                        <h3 class="text-xl font-semibold mb-4 text-school-blue">üìÜ Calendario del Mes</h3>
                        <div id="calendarioMes" class="grid grid-cols-7 gap-1 text-sm">
                            <!-- El calendario aparecer√° aqu√≠ -->
                        </div>
                    </div>
                </div>

                <!-- Todos los Eventos -->
                <div class="mt-8 bg-school-yellow bg-opacity-10 p-6 rounded-lg">
                    <h3 class="text-xl font-semibold mb-4 text-school-blue">üìã Todos los Eventos</h3>
                    <div id="todosEventos" class="space-y-3">
                        <!-- Todos los eventos aparecer√°n aqu√≠ -->
                    </div>
                </div>
            </div>
        </section>

        <!-- Admin Section -->
        <section id="admin" class="section-content hidden">
            <div class="bg-white rounded-xl card-shadow p-8">
                <h2 class="text-3xl font-bold text-school-blue mb-6 text-center">‚öôÔ∏è Panel de Administraci√≥n</h2>
                
                <!-- Login Admin -->
                <div id="adminLogin" class="max-w-md mx-auto mb-8">
                    <div class="bg-school-yellow bg-opacity-20 p-6 rounded-lg">
                        <h3 class="text-xl font-semibold mb-4 text-school-blue">Acceso Administrativo</h3>
                        <input type="text" id="adminUser" placeholder="Usuario Administrador" class="w-full p-3 border border-gray-300 rounded-lg mb-3 focus:ring-2 focus:ring-school-blue">
                        <input type="password" id="adminPass" placeholder="Contrase√±a" class="w-full p-3 border border-gray-300 rounded-lg mb-4 focus:ring-2 focus:ring-school-blue">
                        <button onclick="loginAdmin()" class="w-full bg-school-blue text-white py-3 rounded-lg hover:bg-blue-700 transition-colors font-semibold">Ingresar como Administrador</button>
                    </div>
                </div>

                <!-- Panel Admin -->
                <div id="adminPanel" class="hidden">
                    <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                        <!-- Gesti√≥n de Estudiantes -->
                        <div class="bg-purple-100 p-6 rounded-lg">
                            <h3 class="text-lg font-semibold mb-4 text-school-blue">üë• Gesti√≥n de Estudiantes</h3>
                            <div class="space-y-2 mb-4">
                                <div class="text-sm">Total: <span id="totalEstudiantes" class="font-bold">0</span></div>
                                <div class="text-sm">Con acceso: <span id="estudiantesConAcceso" class="font-bold">0</span></div>
                            </div>
                            <button onclick="mostrarGestionEstudiantes()" class="w-full bg-school-blue text-white py-2 rounded-lg hover:bg-blue-700 transition-colors">Gestionar</button>
                        </div>

                        <!-- Gesti√≥n de Calificaciones -->
                        <div class="bg-school-blue bg-opacity-10 p-6 rounded-lg">
                            <h3 class="text-lg font-semibold mb-4 text-school-blue">üìä Gesti√≥n de Calificaciones</h3>
                            <div class="space-y-2 mb-4">
                                <div class="text-sm">Total: <span id="totalCalificaciones" class="font-bold">0</span></div>
                                <div class="text-sm">Este mes: <span id="calificacionesMes" class="font-bold">0</span></div>
                            </div>
                            <button onclick="mostrarGestionCalificaciones()" class="w-full bg-school-blue text-white py-2 rounded-lg hover:bg-blue-700 transition-colors">Ver Todas</button>
                        </div>

                        <!-- Gesti√≥n de Eventos -->
                        <div class="bg-school-green bg-opacity-10 p-6 rounded-lg">
                            <h3 class="text-lg font-semibold mb-4 text-school-blue">üìÖ Gesti√≥n de Eventos</h3>
                            <div class="space-y-2 mb-4">
                                <div class="text-sm">Total: <span id="totalEventos" class="font-bold">0</span></div>
                                <div class="text-sm">Pr√≥ximos: <span id="eventosProximos" class="font-bold">0</span></div>
                            </div>
                            <button onclick="mostrarGestionEventos()" class="w-full bg-school-blue text-white py-2 rounded-lg hover:bg-blue-700 transition-colors">Gestionar</button>
                        </div>

                        <!-- Gesti√≥n de Opiniones -->
                        <div class="bg-school-yellow bg-opacity-10 p-6 rounded-lg">
                            <h3 class="text-lg font-semibold mb-4 text-school-blue">üí¨ Gesti√≥n de Opiniones</h3>
                            <div class="space-y-2 mb-4">
                                <div class="text-sm">Total: <span id="totalOpiniones" class="font-bold">0</span></div>
                                <div class="text-sm">Promedio: <span id="promedioRating" class="font-bold">0</span> ‚≠ê</div>
                            </div>
                            <button onclick="mostrarGestionOpiniones()" class="w-full bg-school-blue text-white py-2 rounded-lg hover:bg-blue-700 transition-colors">Ver Todas</button>
                        </div>
                    </div>

                    <!-- √Årea de Gesti√≥n Detallada -->
                    <div id="areaGestionDetallada" class="bg-gray-50 p-6 rounded-lg">
                        <h3 class="text-xl font-semibold mb-4 text-school-blue">Selecciona una opci√≥n para gestionar</h3>
                        <p class="text-gray-600">Usa los botones de arriba para ver y administrar estudiantes, calificaciones, eventos u opiniones.</p>
                    </div>

                    <!-- Configuraci√≥n del Sistema -->
                    <div class="mt-8 bg-white border border-gray-200 rounded-lg p-6">
                        <h3 class="text-xl font-semibold mb-4 text-school-blue">üîß Configuraci√≥n del Sistema</h3>
                        <div class="grid md:grid-cols-2 gap-6">
                            <div>
                                <h4 class="font-semibold mb-2">Informaci√≥n de la Instituci√≥n</h4>
                                <input type="text" id="nombreInstitucion" value="LICEO EXPLORADORES DE SUE√ëOS" class="w-full p-2 border border-gray-300 rounded mb-2">
                                <input type="text" id="direccionInstitucion" value="Carrera 13 #8-48, Villa Girgona, Candelaria" class="w-full p-2 border border-gray-300 rounded mb-2">
                                <input type="text" id="telefonoInstitucion" value="313 5649661" class="w-full p-2 border border-gray-300 rounded mb-2">
                                <button onclick="actualizarInfoInstitucion()" class="bg-school-blue text-white px-4 py-2 rounded hover:bg-blue-700">Actualizar</button>
                            </div>
                            <div>
                                <h4 class="font-semibold mb-2">Gesti√≥n de Datos</h4>
                                <button onclick="exportarDatos()" class="w-full bg-school-green text-white py-2 rounded mb-2 hover:bg-green-600">üì• Exportar Todos los Datos</button>
                                <button onclick="limpiarDatos()" class="w-full bg-red-500 text-white py-2 rounded mb-2 hover:bg-red-600">üóëÔ∏è Limpiar Todos los Datos</button>
                                <button onclick="generarReporte()" class="w-full bg-school-yellow text-white py-2 rounded hover:bg-yellow-600">üìä Generar Reporte</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Opiniones Section -->
        <section id="opiniones" class="section-content hidden">
            <div class="bg-white rounded-xl card-shadow p-8">
                <h2 class="text-3xl font-bold text-school-blue mb-6 text-center">üí¨ Opiniones y Sugerencias</h2>
                
                <div class="grid md:grid-cols-2 gap-8">
                    <!-- Formulario de Opini√≥n -->
                    <div class="bg-school-green bg-opacity-20 p-6 rounded-lg">
                        <h3 class="text-xl font-semibold mb-4 text-school-blue">‚úçÔ∏è Comparte tu Opini√≥n</h3>
                        <input type="text" id="nombrePadre" placeholder="Tu nombre" class="w-full p-3 border border-gray-300 rounded-lg mb-3">
                        <input type="text" id="documentoHijo" placeholder="Documento del estudiante" class="w-full p-3 border border-gray-300 rounded-lg mb-3">
                        <select id="tipoOpinion" class="w-full p-3 border border-gray-300 rounded-lg mb-3">
                            <option value="">Tipo de opini√≥n</option>
                            <option value="felicitacion">Felicitaci√≥n</option>
                            <option value="sugerencia">Sugerencia</option>
                            <option value="queja">Queja</option>
                            <option value="consulta">Consulta</option>
                        </select>
                        <textarea id="textoOpinion" placeholder="Escribe tu opini√≥n aqu√≠..." class="w-full p-3 border border-gray-300 rounded-lg mb-4 h-32"></textarea>
                        <div class="mb-4">
                            <label class="block text-sm font-medium text-gray-700 mb-2">Calificaci√≥n del colegio:</label>
                            <div class="flex space-x-2">
                                <button onclick="setRating(1)" class="rating-btn text-2xl" data-rating="1">‚≠ê</button>
                                <button onclick="setRating(2)" class="rating-btn text-2xl" data-rating="2">‚≠ê</button>
                                <button onclick="setRating(3)" class="rating-btn text-2xl" data-rating="3">‚≠ê</button>
                                <button onclick="setRating(4)" class="rating-btn text-2xl" data-rating="4">‚≠ê</button>
                                <button onclick="setRating(5)" class="rating-btn text-2xl" data-rating="5">‚≠ê</button>
                            </div>
                        </div>
                        <button onclick="enviarOpinion()" class="w-full bg-school-blue text-white py-3 rounded-lg hover:bg-blue-700 transition-colors font-semibold">Enviar Opini√≥n</button>
                    </div>

                    <!-- Opiniones Recientes -->
                    <div class="bg-school-yellow bg-opacity-20 p-6 rounded-lg">
                        <h3 class="text-xl font-semibold mb-4 text-school-blue">üìù Opiniones Recientes</h3>
                        <div id="opinionesRecientes" class="space-y-4 max-h-96 overflow-y-auto">
                            <!-- Las opiniones aparecer√°n aqu√≠ -->
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="gradient-bg text-white mt-16">
        <div class="container mx-auto px-4 py-8">
            <div class="grid md:grid-cols-3 gap-8 text-center md:text-left">
                <div>
                    <h3 class="text-xl font-semibold mb-4">LICEO EXPLORADORES DE SUE√ëOS</h3>
                    <p class="mb-2">üìç Carrera 13 #8-48</p>
                    <p class="mb-2">Villa Girgona, Candelaria</p>
                    <p>üìû 313 5649661</p>
                </div>
                <div>
                    <h3 class="text-xl font-semibold mb-4">Niveles Educativos</h3>
                    <ul class="space-y-1">
                        <li>üå± Jard√≠n</li>
                        <li>üé® Transici√≥n</li>
                        <li>üìö Primaria (1¬∞ a 5¬∞)</li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-xl font-semibold mb-4">Contacto</h3>
                    <a href="https://wa.me/573135649661" target="_blank" 
                       class="inline-block bg-green-500 hover:bg-green-600 text-white px-6 py-2 rounded-full font-semibold transition-all duration-300 transform hover:scale-105">
                        üí¨ WhatsApp
                    </a>
                </div>
            </div>
            <div class="text-center mt-8 pt-8 border-t border-white border-opacity-20">
                <p>&copy; 2024 LICEO EXPLORADORES DE SUE√ëOS - 17 a√±os formando el futuro</p>
            </div>
        </div>
    </footer>

    <script>
        // Variables globales para almacenar datos
        let calificaciones = JSON.parse(localStorage.getItem('calificaciones')) || [];
        let eventos = JSON.parse(localStorage.getItem('eventos')) || [];
        let opiniones = JSON.parse(localStorage.getItem('opiniones')) || [];
        let estudiantes = JSON.parse(localStorage.getItem('estudiantes')) || [];
        let padresAcceso = JSON.parse(localStorage.getItem('padresAcceso')) || [];
        let docentes = JSON.parse(localStorage.getItem('docentes')) || [];
        let currentRating = 0;
        let isDocenteLoggedIn = false;
        let isAdminLoggedIn = false;
        let isPadreLoggedIn = false;
        let padreLogueado = null;
        let docenteLogueado = null;

        // Funci√≥n para mostrar secciones
        function showSection(sectionId) {
            // Ocultar todas las secciones
            const sections = document.querySelectorAll('.section-content');
            sections.forEach(section => {
                section.classList.add('hidden');
                section.classList.remove('fade-in');
            });

            // Mostrar la secci√≥n seleccionada
            const targetSection = document.getElementById(sectionId);
            targetSection.classList.remove('hidden');
            setTimeout(() => {
                targetSection.classList.add('fade-in');
            }, 10);

            // Actualizar botones de navegaci√≥n
            const navButtons = document.querySelectorAll('.nav-btn');
            navButtons.forEach(btn => btn.classList.remove('bg-blue-600'));
            event.target.classList.add('bg-blue-600');

            // Cargar datos espec√≠ficos de la secci√≥n
            if (sectionId === 'cronogramas') {
                mostrarEventos();
                generarCalendario();
            } else if (sectionId === 'opiniones') {
                mostrarOpiniones();
            } else if (sectionId === 'docentes' && isDocenteLoggedIn) {
                mostrarCalificacionesRecientes();
                mostrarEstudiantesRegistrados();
                cargarEstudiantesEnSelect();
            } else if (sectionId === 'admin' && isAdminLoggedIn) {
                actualizarEstadisticasAdmin();
            } else if (sectionId === 'padres') {
                // Resetear el estado del login de padres si no est√° logueado
                if (!isPadreLoggedIn) {
                    document.getElementById('padreLogin').classList.remove('hidden');
                    document.getElementById('padrePanel').classList.add('hidden');
                }
            }
        }

        // Registrar estudiante y crear acceso para padres
        function registrarEstudiante() {
            const documento = document.getElementById('estudianteDocReg').value;
            const nombre = document.getElementById('estudianteNombreReg').value;
            const grado = document.getElementById('gradoReg').value;
            const nombrePadre = document.getElementById('nombrePadreReg').value;
            const usuarioPadre = document.getElementById('usuarioPadre').value;
            const passwordPadre = document.getElementById('passwordPadre').value;

            if (!documento || !nombre || !grado || !nombrePadre || !usuarioPadre || !passwordPadre) {
                alert('Por favor complete todos los campos');
                return;
            }

            // Verificar si el estudiante ya existe
            if (estudiantes.some(est => est.documento === documento)) {
                alert('Ya existe un estudiante con este documento');
                return;
            }

            // Verificar si el usuario ya existe
            if (padresAcceso.some(padre => padre.usuario === usuarioPadre)) {
                alert('Este usuario ya existe. Por favor elija otro.');
                return;
            }

            // Crear registro del estudiante
            const nuevoEstudiante = {
                id: Date.now(),
                documento,
                nombre,
                grado,
                fechaRegistro: new Date().toLocaleDateString()
            };

            // Crear acceso para el padre
            const nuevoAccesoPadre = {
                id: Date.now(),
                usuario: usuarioPadre,
                password: passwordPadre,
                nombrePadre,
                documentoEstudiante: documento,
                nombreEstudiante: nombre,
                fechaCreacion: new Date().toLocaleDateString()
            };

            estudiantes.push(nuevoEstudiante);
            padresAcceso.push(nuevoAccesoPadre);

            localStorage.setItem('estudiantes', JSON.stringify(estudiantes));
            localStorage.setItem('padresAcceso', JSON.stringify(padresAcceso));

            // Limpiar formulario
            document.getElementById('estudianteDocReg').value = '';
            document.getElementById('estudianteNombreReg').value = '';
            document.getElementById('gradoReg').value = '';
            document.getElementById('nombrePadreReg').value = '';
            document.getElementById('usuarioPadre').value = '';
            document.getElementById('passwordPadre').value = '';

            alert(¬°Estudiante registrado exitosamente!\n\nDatos de acceso para el padre:\nUsuario: ${usuarioPadre}\nContrase√±a: ${passwordPadre}\n\nComparte estos datos con el padre de familia.);
            
            mostrarEstudiantesRegistrados();
            cargarEstudiantesEnSelect();
        }

        // Mostrar estudiantes registrados
        function mostrarEstudiantesRegistrados() {
            const lista = document.getElementById('estudiantesRegistrados');
            
            if (estudiantes.length === 0) {
                lista.innerHTML = '<p class="text-gray-500 text-center">No hay estudiantes registrados</p>';
                return;
            }

            lista.innerHTML = estudiantes.map(est => {
                const accesoPadre = padresAcceso.find(padre => padre.documentoEstudiante === est.documento);
                return `
                    <div class="bg-gray-50 p-3 rounded-lg border-l-4 border-purple-500">
                        <div class="flex justify-between items-center">
                            <div>
                                <strong>${est.nombre}</strong> (${est.documento}) - ${est.grado}
                                ${accesoPadre ? <br><small class="text-gray-600">Padre: ${accesoPadre.nombrePadre} | Usuario: ${accesoPadre.usuario}</small> : ''}
                            </div>
                            <div class="text-right text-sm text-gray-500">
                                ${est.fechaRegistro}
                            </div>
                        </div>
                    </div>
                `;
            }).join('');
        }

        // Cargar estudiantes en el select para calificaciones
        function cargarEstudiantesEnSelect() {
            const select = document.getElementById('estudianteSelectDoc');
            select.innerHTML = '<option value="">Seleccionar Estudiante</option>';
            
            estudiantes.forEach(est => {
                select.innerHTML += <option value="${est.documento}" data-nombre="${est.nombre}">${est.nombre} (${est.documento})</option>;
            });
        }

        // Cargar datos del estudiante seleccionado
        function cargarDatosEstudiante() {
            const select = document.getElementById('estudianteSelectDoc');
            const documento = select.value;
            const nombre = select.options[select.selectedIndex].getAttribute('data-nombre');
            
            document.getElementById('estudianteDoc').value = documento;
            document.getElementById('estudianteNombre').value = nombre || '';
        }

        // Login de docentes
        function loginDocente() {
            const cedula = document.getElementById('docenteUser').value;
            const pass = document.getElementById('docentePass').value;

            if (!cedula || !pass) {
                alert('Por favor ingrese su c√©dula y contrase√±a');
                return;
            }

            // Credenciales de demostraci√≥n
            if (cedula === 'docente' && pass === '123456') {
                document.getElementById('docenteLogin').classList.add('hidden');
                document.getElementById('docentePanel').classList.remove('hidden');
                isDocenteLoggedIn = true;
                docenteLogueado = { cedula: 'docente', nombre: 'Docente Demo', grado: 'todos' };
                mostrarCalificacionesRecientes();
                mostrarEstudiantesRegistrados();
                cargarEstudiantesEnSelect();
                alert('¬°Bienvenido al portal docente!');
                return;
            }

            // Buscar en docentes registrados
            const docente = docentes.find(doc => doc.cedula === cedula && doc.password === pass && doc.activo);

            if (docente) {
                document.getElementById('docenteLogin').classList.add('hidden');
                document.getElementById('docentePanel').classList.remove('hidden');
                isDocenteLoggedIn = true;
                docenteLogueado = docente;
                mostrarCalificacionesRecientes();
                mostrarEstudiantesRegistrados();
                cargarEstudiantesEnSelect();
                alert(¬°Bienvenido ${docente.nombre}!);
            } else {
                alert('C√©dula o contrase√±a incorrectos. Si no tienes acceso, contacta al administrador.');
            }
        }

        // Login de padres
        function loginPadre() {
            const user = document.getElementById('padreUser').value;
            const pass = document.getElementById('padrePass').value;

            if (!user || !pass) {
                alert('Por favor ingrese usuario y contrase√±a');
                return;
            }

            // Buscar en los accesos de padres
            const accesoPadre = padresAcceso.find(padre => padre.usuario === user && padre.password === pass);

            if (accesoPadre) {
                document.getElementById('padreLogin').classList.add('hidden');
                document.getElementById('padrePanel').classList.remove('hidden');
                isPadreLoggedIn = true;
                padreLogueado = accesoPadre;
                
                mostrarNotasEstudiantePadre();
                alert(¬°Bienvenido ${accesoPadre.nombrePadre}!);
            } else {
                alert('Usuario o contrase√±a incorrectos. Si no tienes acceso, solic√≠talo al docente.');
            }
        }

        // Mostrar notas del estudiante para el padre logueado
        function mostrarNotasEstudiantePadre() {
            if (!padreLogueado) return;

            const infoDiv = document.getElementById('informacionEstudiante');
            const notasDiv = document.getElementById('notasEstudiantePadre');

            // Mostrar informaci√≥n del estudiante
            infoDiv.innerHTML = `
                <div class="bg-white p-4 rounded-lg border-l-4 border-school-blue">
                    <h4 class="text-lg font-semibold text-school-blue">Informaci√≥n del Estudiante</h4>
                    <p><strong>Nombre:</strong> ${padreLogueado.nombreEstudiante}</p>
                    <p><strong>Documento:</strong> ${padreLogueado.documentoEstudiante}</p>
                    <p><strong>Padre/Madre:</strong> ${padreLogueado.nombrePadre}</p>
                </div>
            `;

            // Obtener calificaciones del estudiante
            const notasEstudiante = calificaciones.filter(cal => cal.documento === padreLogueado.documentoEstudiante);

            if (notasEstudiante.length === 0) {
                notasDiv.innerHTML = '<p class="text-gray-500 text-center">No hay calificaciones registradas para este estudiante</p>';
                return;
            }

            // Agrupar por per√≠odo
            const porPeriodo = {};
            notasEstudiante.forEach(nota => {
                if (!porPeriodo[nota.periodo]) {
                    porPeriodo[nota.periodo] = [];
                }
                porPeriodo[nota.periodo].push(nota);
            });

            let html = '';
            
            Object.keys(porPeriodo).sort().forEach(periodo => {
                const notas = porPeriodo[periodo];
                const promedio = (notas.reduce((sum, nota) => sum + nota.calificacion, 0) / notas.length).toFixed(1);
                
                html += `
                    <div class="mb-4 p-4 bg-white rounded-lg border">
                        <h5 class="font-semibold text-school-blue mb-2">Per√≠odo ${periodo} - Promedio: ${promedio}</h5>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-2">
                            ${notas.map(nota => `
                                <div class="flex justify-between items-center p-2 bg-gray-50 rounded">
                                    <span>${nota.materia}</span>
                                    <span class="font-bold ${nota.calificacion >= 3.5 ? 'text-green-600' : nota.calificacion >= 3.0 ? 'text-yellow-600' : 'text-red-600'}">${nota.calificacion}</span>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
            });

            notasDiv.innerHTML = html;
        }

        // Subir calificaci√≥n
        function subirCalificacion() {
            const grado = document.getElementById('gradoSelect').value;
            const documento = document.getElementById('estudianteDoc').value;
            const nombre = document.getElementById('estudianteNombre').value;
            const materia = document.getElementById('materiaSelect').value;
            const calificacion = document.getElementById('calificacion').value;
            const periodo = document.getElementById('periodo').value;

            if (!grado || !documento || !nombre || !materia || !calificacion || !periodo) {
                alert('Por favor complete todos los campos');
                return;
            }

            if (calificacion < 1 || calificacion > 5) {
                alert('La calificaci√≥n debe estar entre 1 y 5');
                return;
            }

            // Verificar si el estudiante est√° registrado
            const estudianteExiste = estudiantes.some(est => est.documento === documento);
            if (!estudianteExiste) {
                alert('Este estudiante no est√° registrado en el sistema. Por favor reg√≠strelo primero.');
                return;
            }

            const nuevaCalificacion = {
                id: Date.now(),
                grado,
                documento,
                nombre,
                materia,
                calificacion: parseFloat(calificacion),
                periodo,
                fecha: new Date().toLocaleDateString()
            };

            calificaciones.push(nuevaCalificacion);
            localStorage.setItem('calificaciones', JSON.stringify(calificaciones));

            // Limpiar formulario
            document.getElementById('gradoSelect').value = '';
            document.getElementById('estudianteSelectDoc').value = '';
            document.getElementById('estudianteDoc').value = '';
            document.getElementById('estudianteNombre').value = '';
            document.getElementById('materiaSelect').value = '';
            document.getElementById('calificacion').value = '';
            document.getElementById('periodo').value = '';

            mostrarCalificacionesRecientes();
            alert('Calificaci√≥n guardada exitosamente');
        }

        // Mostrar calificaciones recientes
        function mostrarCalificacionesRecientes() {
            const lista = document.getElementById('calificacionesList');
            const recientes = calificaciones.slice(-5).reverse();

            if (recientes.length === 0) {
                lista.innerHTML = '<p class="text-gray-500 text-center">No hay calificaciones registradas</p>';
                return;
            }

            lista.innerHTML = recientes.map(cal => `
                <div class="bg-gray-50 p-3 rounded-lg border-l-4 border-school-blue">
                    <div class="flex justify-between items-center">
                        <div>
                            <strong>${cal.nombre}</strong> (${cal.documento}) - ${cal.materia}
                        </div>
                        <div class="text-right">
                            <span class="text-lg font-bold text-school-blue">${cal.calificacion}</span>
                            <div class="text-sm text-gray-500">${cal.fecha}</div>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        // Consultar notas (consulta r√°pida sin login)
        function consultarNotas() {
            const documento = document.getElementById('documentoConsulta').value;
            
            if (!documento) {
                alert('Por favor ingrese el n√∫mero de documento');
                return;
            }

            const notasEstudiante = calificaciones.filter(cal => cal.documento === documento);
            const resultadosDiv = document.getElementById('resultadosNotas');
            const notasDiv = document.getElementById('notasEstudiante');

            if (notasEstudiante.length === 0) {
                alert('No se encontraron calificaciones para este documento');
                resultadosDiv.classList.add('hidden');
                return;
            }

            // Agrupar por per√≠odo
            const porPeriodo = {};
            notasEstudiante.forEach(nota => {
                if (!porPeriodo[nota.periodo]) {
                    porPeriodo[nota.periodo] = [];
                }
                porPeriodo[nota.periodo].push(nota);
            });

            let html = <h4 class="text-lg font-semibold mb-4">Estudiante: ${notasEstudiante[0].nombre}</h4>;
            
            Object.keys(porPeriodo).sort().forEach(periodo => {
                const notas = porPeriodo[periodo];
                const promedio = (notas.reduce((sum, nota) => sum + nota.calificacion, 0) / notas.length).toFixed(1);
                
                html += `
                    <div class="mb-4 p-4 bg-white rounded-lg border">
                        <h5 class="font-semibold text-school-blue mb-2">Per√≠odo ${periodo} - Promedio: ${promedio}</h5>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-2">
                            ${notas.map(nota => `
                                <div class="flex justify-between items-center p-2 bg-gray-50 rounded">
                                    <span>${nota.materia}</span>
                                    <span class="font-bold ${nota.calificacion >= 3.5 ? 'text-green-600' : nota.calificacion >= 3.0 ? 'text-yellow-600' : 'text-red-600'}">${nota.calificacion}</span>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
            });

            notasDiv.innerHTML = html;
            resultadosDiv.classList.remove('hidden');
        }

        // Subir evento
        function subirEvento() {
            const titulo = document.getElementById('eventoTitulo').value;
            const descripcion = document.getElementById('eventoDescripcion').value;
            const fecha = document.getElementById('eventoFecha').value;
            const hora = document.getElementById('eventoHora').value;
            const tipo = document.getElementById('eventoTipo').value;

            if (!titulo || !descripcion || !fecha || !tipo) {
                alert('Por favor complete todos los campos obligatorios');
                return;
            }

            const nuevoEvento = {
                id: Date.now(),
                titulo,
                descripcion,
                fecha,
                hora: hora || '08:00',
                tipo,
                fechaCreacion: new Date().toLocaleDateString()
            };

            eventos.push(nuevoEvento);
            localStorage.setItem('eventos', JSON.stringify(eventos));

            // Limpiar formulario
            document.getElementById('eventoTitulo').value = '';
            document.getElementById('eventoDescripcion').value = '';
            document.getElementById('eventoFecha').value = '';
            document.getElementById('eventoHora').value = '';
            document.getElementById('eventoTipo').value = '';

            alert('Evento publicado exitosamente');
            mostrarEventos();
        }

        // Mostrar eventos
        function mostrarEventos() {
            const proximosDiv = document.getElementById('proximosEventos');
            const todosDiv = document.getElementById('todosEventos');
            
            const hoy = new Date();
            const proximos = eventos
                .filter(evento => new Date(evento.fecha) >= hoy)
                .sort((a, b) => new Date(a.fecha) - new Date(b.fecha))
                .slice(0, 5);

            const todos = eventos.sort((a, b) => new Date(b.fecha) - new Date(a.fecha));

            // Pr√≥ximos eventos
            if (proximos.length === 0) {
                proximosDiv.innerHTML = '<p class="text-gray-500">No hay eventos pr√≥ximos</p>';
            } else {
                proximosDiv.innerHTML = proximos.map(evento => `
                    <div class="bg-white p-4 rounded-lg border-l-4 border-school-yellow">
                        <h4 class="font-semibold text-school-blue">${evento.titulo}</h4>
                        <p class="text-sm text-gray-600 mb-2">${evento.descripcion}</p>
                        <div class="flex justify-between items-center text-sm">
                            <span class="bg-school-${evento.tipo === 'academico' ? 'blue' : evento.tipo === 'cultural' ? 'green' : 'yellow'} bg-opacity-20 px-2 py-1 rounded">${evento.tipo}</span>
                            <span class="font-medium">${new Date(evento.fecha).toLocaleDateString()} ${evento.hora}</span>
                        </div>
                    </div>
                `).join('');
            }

            // Todos los eventos
            if (todos.length === 0) {
                todosDiv.innerHTML = '<p class="text-gray-500">No hay eventos registrados</p>';
            } else {
                todosDiv.innerHTML = todos.map(evento => `
                    <div class="bg-white p-3 rounded-lg border-l-4 border-school-blue">
                        <div class="flex justify-between items-start">
                            <div class="flex-1">
                                <h4 class="font-semibold">${evento.titulo}</h4>
                                <p class="text-sm text-gray-600">${evento.descripcion}</p>
                            </div>
                            <div class="text-right text-sm">
                                <div class="font-medium">${new Date(evento.fecha).toLocaleDateString()}</div>
                                <div class="text-gray-500">${evento.hora}</div>
                            </div>
                        </div>
                    </div>
                `).join('');
            }
        }

        // Generar calendario
        function generarCalendario() {
            const calendarioDiv = document.getElementById('calendarioMes');
            const hoy = new Date();
            const a√±o = hoy.getFullYear();
            const mes = hoy.getMonth();
            
            const primerDia = new Date(a√±o, mes, 1);
            const ultimoDia = new Date(a√±o, mes + 1, 0);
            const diasEnMes = ultimoDia.getDate();
            const diaSemanaInicio = primerDia.getDay();

            const nombresMeses = ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio',
                                'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'];
            
            let html = <div class="col-span-7 text-center font-bold text-school-blue mb-2">${nombresMeses[mes]} ${a√±o}</div>;
            
            // D√≠as de la semana
            const diasSemana = ['Dom', 'Lun', 'Mar', 'Mi√©', 'Jue', 'Vie', 'S√°b'];
            diasSemana.forEach(dia => {
                html += <div class="text-center font-semibold text-gray-600 p-1">${dia}</div>;
            });

            // Espacios vac√≠os al inicio
            for (let i = 0; i < diaSemanaInicio; i++) {
                html += '<div class="p-1"></div>';
            }

            // D√≠as del mes
            for (let dia = 1; dia <= diasEnMes; dia++) {
                const fechaActual = ${a√±o}-${String(mes + 1).padStart(2, '0')}-${String(dia).padStart(2, '0')};
                const tieneEvento = eventos.some(evento => evento.fecha === fechaActual);
                const esHoy = dia === hoy.getDate() && mes === hoy.getMonth() && a√±o === hoy.getFullYear();
                
                html += <div class="p-1 text-center ${esHoy ? 'bg-school-blue text-white' : ''} ${tieneEvento ? 'bg-school-yellow bg-opacity-30' : ''} rounded cursor-pointer hover:bg-gray-100">${dia}</div>;
            }

            calendarioDiv.innerHTML = html;
        }

        // Sistema de calificaci√≥n con estrellas
        function setRating(rating) {
            currentRating = rating;
            const buttons = document.querySelectorAll('.rating-btn');
            buttons.forEach((btn, index) => {
                if (index < rating) {
                    btn.style.color = '#fbbf24';
                } else {
                    btn.style.color = '#d1d5db';
                }
            });
        }

        // Enviar opini√≥n
        function enviarOpinion() {
            const nombre = document.getElementById('nombrePadre').value;
            const documento = document.getElementById('documentoHijo').value;
            const tipo = document.getElementById('tipoOpinion').value;
            const texto = document.getElementById('textoOpinion').value;

            if (!nombre || !documento || !tipo || !texto || currentRating === 0) {
                alert('Por favor complete todos los campos y seleccione una calificaci√≥n');
                return;
            }

            const nuevaOpinion = {
                id: Date.now(),
                nombre,
                documento,
                tipo,
                texto,
                rating: currentRating,
                fecha: new Date().toLocaleDateString()
            };

            opiniones.push(nuevaOpinion);
            localStorage.setItem('opiniones', JSON.stringify(opiniones));

            // Limpiar formulario
            document.getElementById('nombrePadre').value = '';
            document.getElementById('documentoHijo').value = '';
            document.getElementById('tipoOpinion').value = '';
            document.getElementById('textoOpinion').value = '';
            setRating(0);

            alert('¬°Gracias por tu opini√≥n! Ha sido registrada exitosamente.');
            mostrarOpiniones();
        }

        // Mostrar opiniones
        function mostrarOpiniones() {
            const opinionesDiv = document.getElementById('opinionesRecientes');
            const recientes = opiniones.slice(-10).reverse();

            if (recientes.length === 0) {
                opinionesDiv.innerHTML = '<p class="text-gray-500">No hay opiniones registradas</p>';
                return;
            }

            opinionesDiv.innerHTML = recientes.map(opinion => `
                <div class="bg-white p-4 rounded-lg border-l-4 border-school-green">
                    <div class="flex justify-between items-start mb-2">
                        <div>
                            <strong>${opinion.nombre}</strong>
                            <span class="text-sm text-gray-500 ml-2">${opinion.tipo}</span>
                        </div>
                        <div class="flex items-center">
                            ${'‚≠ê'.repeat(opinion.rating)}
                            <span class="text-sm text-gray-500 ml-2">${opinion.fecha}</span>
                        </div>
                    </div>
                    <p class="text-gray-700">${opinion.texto}</p>
                </div>
            `).join('');
        }

        // Funciones de Administraci√≥n
        function loginAdmin() {
            const user = document.getElementById('adminUser').value;
            const pass = document.getElementById('adminPass').value;

            // Credenciales de administrador
            if (user === 'admin' && pass === 'admin123') {
                document.getElementById('adminLogin').classList.add('hidden');
                document.getElementById('adminPanel').classList.remove('hidden');
                isAdminLoggedIn = true;
                actualizarEstadisticasAdmin();
                alert('¬°Bienvenido al panel de administraci√≥n!');
            } else {
                alert('Credenciales incorrectas. Use: usuario "admin" y contrase√±a "admin123"');
            }
        }

        // Crear docente
        function crearDocente() {
            const cedula = document.getElementById('docenteCedula').value;
            const nombre = document.getElementById('docenteNombre').value;
            const password = document.getElementById('docentePassword').value;
            const grado = document.getElementById('docenteGrado').value;

            if (!cedula || !nombre || !password || !grado) {
                alert('Por favor complete todos los campos');
                return;
            }

            // Verificar si ya existe un docente con esa c√©dula
            if (docentes.some(doc => doc.cedula === cedula)) {
                alert('Ya existe un docente con esta c√©dula');
                return;
            }

            const nuevoDocente = {
                id: Date.now(),
                cedula,
                nombre,
                password,
                grado,
                activo: true,
                fechaCreacion: new Date().toLocaleDateString()
            };

            docentes.push(nuevoDocente);
            localStorage.setItem('docentes', JSON.stringify(docentes));

            // Limpiar formulario
            document.getElementById('docenteCedula').value = '';
            document.getElementById('docenteNombre').value = '';
            document.getElementById('docentePassword').value = '';
            document.getElementById('docenteGrado').value = '';

            alert(¬°Docente creado exitosamente!\n\nDatos de acceso:\nC√©dula: ${cedula}\nContrase√±a: ${password}\n\nComparte estos datos con el docente.);
            actualizarEstadisticasAdmin();
        }

        // Cargar estudiantes masivamente
        function cargarEstudiantesMasivo() {
            const texto = document.getElementById('estudiantesMasivos').value.trim();
            
            if (!texto) {
                alert('Por favor ingrese los datos de los estudiantes');
                return;
            }

            const lineas = texto.split('\n');
            let procesados = 0;
            let errores = [];

            lineas.forEach((linea, index) => {
                const datos = linea.split(',').map(d => d.trim());
                
                if (datos.length !== 6) {
                    errores.push(L√≠nea ${index + 1}: Formato incorrecto (debe tener 6 campos));
                    return;
                }

                const [documento, nombre, grado, nombrePadre, usuarioPadre, passwordPadre] = datos;

                // Verificar si el estudiante ya existe
                if (estudiantes.some(est => est.documento === documento)) {
                    errores.push(L√≠nea ${index + 1}: Estudiante con documento ${documento} ya existe);
                    return;
                }

                // Verificar si el usuario del padre ya existe
                if (padresAcceso.some(padre => padre.usuario === usuarioPadre)) {
                    errores.push(L√≠nea ${index + 1}: Usuario ${usuarioPadre} ya existe);
                    return;
                }

                // Crear estudiante
                const nuevoEstudiante = {
                    id: Date.now() + index,
                    documento,
                    nombre,
                    grado,
                    fechaRegistro: new Date().toLocaleDateString()
                };

                // Crear acceso para el padre
                const nuevoAccesoPadre = {
                    id: Date.now() + index,
                    usuario: usuarioPadre,
                    password: passwordPadre,
                    nombrePadre,
                    documentoEstudiante: documento,
                    nombreEstudiante: nombre,
                    fechaCreacion: new Date().toLocaleDateString()
                };

                estudiantes.push(nuevoEstudiante);
                padresAcceso.push(nuevoAccesoPadre);
                procesados++;
            });

            // Guardar cambios
            localStorage.setItem('estudiantes', JSON.stringify(estudiantes));
            localStorage.setItem('padresAcceso', JSON.stringify(padresAcceso));

            // Limpiar formulario
            document.getElementById('estudiantesMasivos').value = '';

            // Mostrar resultados
            let mensaje = Procesamiento completado:\n‚úÖ ${procesados} estudiantes cargados exitosamente;
            if (errores.length > 0) {
                mensaje += \n\n‚ùå Errores encontrados:\n${errores.join('\n')};
            }
            alert(mensaje);

            mostrarEstudiantesRegistrados();
            cargarEstudiantesEnSelect();
            actualizarEstadisticasAdmin();
        }

        // Cargar calificaciones masivamente
        function cargarCalificacionesMasivo() {
            const texto = document.getElementById('calificacionesMasiva
